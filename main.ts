enum SoundIds {
  //% block=giggle
  giggle = 0,
  //% block=happy
  happy = 1,
  //% block=hello
  hello = 2,
  //% block=mysterious
  mysterious = 3,
  //% block=sad
  sad = 4,
  //% block=slide
  slide = 5,
  //% block=soaring
  soaring = 6,
  //% block=spring
  spring = 7,
  //% block=twinkle
  twinkle = 8,
  //% block=yawn
  yawn = 9,
}

const soundData = [
  // giggle
  "A1A23A988A19B844B44B8881A23B16A1B33B24ZB,11A23257B8741144B44B888A352B59A1B33C1Q1J,31A232729A211A544A2889A888B91B63H24A7C2L3I,31A232729A1A2A544A2889A888B91B63H24A7C2L3I,31A232729A114A544A2889A888B91B63H24A7C2L3I",
  // happy
  "A1A231992A6691144B44B888A262B28D18C2A5O1J,B2322129A295A844A24A4A888G4C224B11R75H,E2129A295A944A24A4A888A145C4C224B11R75H",
  // hello
  "31A23A673A197A244A1187A8881A23A128H24ZB,3D1A64B16A244B981A888E128E1C4ZB,31A231A64A293A244B981A8881A23A128E1C4ZB",
  // mysterious
  "4D239B331B44A24A4A888A477C4C224B11A4P8I,4A5512845385C44B44B888E128A3A1A5B16Q85C5C15",
  // sad
  "31A232226A7A8A144A1624A8881A23A128E1B24ZB,31A231623A936A244B939A888E128E1B24ZB",
  // slide
  "1A52A2325A223A244A24A4A8881A23A128A1A2D11A4O1J,A1A23252B91B244B44B8881A23A128A1A224B11A4O1J",
  // soaring
  "21A234B953A9A544A5999A8881A23B22A2C4C2A25N2J,4A2233727273A1444B44B888F31A1A244C3ZB",
  // spring
  "3A659B3711631244B587A888A8A7B34H24Q5J,A1A23B3711631344B587A8881A23B31H24Q5J",
  // twinkle
  "A1A18C76722A944B756A888A855A128H24ZB",
  // yawn
  "2D22811332A244A15C8881A23A128A1A241B24A4C3K1J,B531252B91B244B44B888A636A128A1A224B11A3O1J,B822A784A19B844B44B888A681B16D55B24R5I,B479A784A19B844B44B888A298B16H24R5I,B321A784A19B844B44B888A1A8B16D33C8R5I",
];

function repeatZero(n: number) {
  let str = "";
  for (let i = 0; i < n; i++) str += "0";
  return str;
}

//% color="#e63022" weight=105 icon="\uf028"
namespace sounds {
  /**
   * Play selected sound
   */
  //% block
  export function play(soundId: SoundIds) {
    const sound = soundData[soundId]
      .split("")
      .map((l: string) =>
        l.charCodeAt(0) >= 65 ? repeatZero(l.charCodeAt(0) - 64) : l
      )
      .join("");
    music.__playSoundExpression(sound, true);
  }
}
